#!/usr/bin/env bash

rdo_header stage

rdo_stage() {
  eval "$(args::init_subcommand "rdo stage" "Manage staging of environments")"

  args::new_option "verbose" "v" "Print extra information" \
                   'arg_verbose=yes'
  args::new_command "init" "Initialize new environment for staging" \
                    'rdo_stage_init "${@}"'
  args::new_command "commit" "Commit environment" \
                    'rdo_stage_commit "${@}"'

  args::process_options
  args::process_command

  echo -------
  eval "$(args::process_options)"
  eval "$(args::process_command)"
}
